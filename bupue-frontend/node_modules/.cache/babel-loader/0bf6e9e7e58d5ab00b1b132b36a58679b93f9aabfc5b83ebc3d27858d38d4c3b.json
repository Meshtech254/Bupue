{"ast":null,"code":"import _objectSpread from\"C:/Users/chapl/bupue/bupue-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useCart}from'../../context/CartContext';import axios from'axios';import'./Cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CheckoutSimple=()=>{const{cart,clearCart}=useCart();const[shipping,setShipping]=useState({name:'',address:'',city:'',country:'',postalCode:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const total=cart.reduce((sum,i)=>sum+i.item.price*i.quantity,0);const handleChange=e=>{setShipping(_objectSpread(_objectSpread({},shipping),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const token=localStorage.getItem('token');const items=cart.map(i=>({item:i.item._id,quantity:i.quantity}));await axios.post('/api/orders',{items,shipping},{headers:{Authorization:\"Bearer \".concat(token)}});clearCart();navigate('/orders');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to place order');}finally{setLoading(false);}};if(cart.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-container\",children:\"Your cart is empty.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Checkout\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-total\",children:[\"Order Total: \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",total.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shipping Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"checkout-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"Full Name\",value:shipping.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"address\",placeholder:\"Address\",value:shipping.address,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"city\",placeholder:\"City\",value:shipping.city,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"country\",placeholder:\"Country\",value:shipping.country,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"postalCode\",placeholder:\"Postal Code\",value:shipping.postalCode,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Placing Order...':'Place Order'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-note\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" This is a simplified checkout. Payment integration with Stripe can be added once the environment is properly configured.\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Orders will be created in \\\"pending\\\" status and can be processed through the admin panel.\"})]})]})]});};export default CheckoutSimple;","map":{"version":3,"names":["React","useState","useNavigate","useCart","axios","jsx","_jsx","jsxs","_jsxs","CheckoutSimple","cart","clearCart","shipping","setShipping","name","address","city","country","postalCode","error","setError","loading","setLoading","navigate","total","reduce","sum","i","item","price","quantity","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","token","localStorage","getItem","items","map","_id","post","headers","Authorization","concat","err","_err$response","_err$response$data","response","data","message","length","className","children","toFixed","onSubmit","placeholder","onChange","required","type","disabled"],"sources":["C:/Users/chapl/bupue/bupue-frontend/src/components/cart/Checkout.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../../context/CartContext';\nimport axios from 'axios';\nimport './Cart.css';\n\nconst CheckoutSimple = () => {\n  const { cart, clearCart } = useCart();\n  const [shipping, setShipping] = useState({ name: '', address: '', city: '', country: '', postalCode: '' });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const total = cart.reduce((sum, i) => sum + i.item.price * i.quantity, 0);\n\n  const handleChange = e => {\n    setShipping({ ...shipping, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const token = localStorage.getItem('token');\n      const items = cart.map(i => ({ item: i.item._id, quantity: i.quantity }));\n      await axios.post('/api/orders', { items, shipping }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      clearCart();\n      navigate('/orders');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to place order');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (cart.length === 0) {\n    return <div className=\"cart-container\">Your cart is empty.</div>;\n  }\n\n  return (\n    <div className=\"cart-container\">\n      <h2>Checkout</h2>\n      <div className=\"cart-total\">Order Total: <strong>${total.toFixed(2)}</strong></div>\n      \n      <div>\n        <h3>Shipping Information</h3>\n        <form className=\"checkout-form\" onSubmit={handleSubmit}>\n          <input name=\"name\" placeholder=\"Full Name\" value={shipping.name} onChange={handleChange} required />\n          <input name=\"address\" placeholder=\"Address\" value={shipping.address} onChange={handleChange} required />\n          <input name=\"city\" placeholder=\"City\" value={shipping.city} onChange={handleChange} required />\n          <input name=\"country\" placeholder=\"Country\" value={shipping.country} onChange={handleChange} required />\n          <input name=\"postalCode\" placeholder=\"Postal Code\" value={shipping.postalCode} onChange={handleChange} required />\n          <button type=\"submit\" disabled={loading}>\n            {loading ? 'Placing Order...' : 'Place Order'}\n          </button>\n          {error && <div className=\"error\">{error}</div>}\n        </form>\n        \n        <div className=\"payment-note\">\n          <p><strong>Note:</strong> This is a simplified checkout. Payment integration with Stripe can be added once the environment is properly configured.</p>\n          <p>Orders will be created in \"pending\" status and can be processed through the admin panel.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutSimple;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}