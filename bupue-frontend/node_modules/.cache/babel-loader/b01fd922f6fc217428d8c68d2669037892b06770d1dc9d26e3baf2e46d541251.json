{"ast":null,"code":"import _objectSpread from\"C:/Users/chapl/bupue/bupue-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import api from'../../api/client';import'./Courses.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCourse=()=>{const[form,setForm]=useState({title:'',description:'',price:'',owner:''});const[thumbnail,setThumbnail]=useState(null);const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleFileChange=e=>setThumbnail(e.target.files[0]);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const formDataToSend=new FormData();formDataToSend.append('title',form.title);formDataToSend.append('description',form.description);formDataToSend.append('price',form.price);if(thumbnail)formDataToSend.append('thumbnail',thumbnail);await api.post('/api/courses',formDataToSend);setForm({title:'',description:'',price:'',owner:''});setThumbnail(null);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to create course');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"courses-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Course\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"create-course-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",placeholder:\"Title\",value:form.title,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description\",value:form.description,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",type:\"number\",placeholder:\"Price\",value:form.price,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Creating...':'Create Course'})]})]});};export default CreateCourse;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","CreateCourse","form","setForm","title","description","price","owner","thumbnail","setThumbnail","error","setError","loading","setLoading","handleChange","e","_objectSpread","target","name","value","handleFileChange","files","handleSubmit","preventDefault","formDataToSend","FormData","append","post","err","_err$response","_err$response$data","response","data","message","className","children","onSubmit","placeholder","onChange","required","type","disabled"],"sources":["C:/Users/chapl/bupue/bupue-frontend/src/components/courses/CreateCourse.js"],"sourcesContent":["import React, { useState } from 'react';\nimport api from '../../api/client';\nimport './Courses.css';\n\nconst CreateCourse = () => {\n  const [form, setForm] = useState({ title: '', description: '', price: '', owner: '' });\n  const [thumbnail, setThumbnail] = useState(null);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = e => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleFileChange = e => setThumbnail(e.target.files[0]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('title', form.title);\n      formDataToSend.append('description', form.description);\n      formDataToSend.append('price', form.price);\n      if (thumbnail) formDataToSend.append('thumbnail', thumbnail);\n\n      await api.post('/api/courses', formDataToSend);\n      setForm({ title: '', description: '', price: '', owner: '' });\n      setThumbnail(null);\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to create course');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"courses-container\">\n      <h2>Create Course</h2>\n      {error && <div className=\"error\">{error}</div>}\n      <form className=\"create-course-form\" onSubmit={handleSubmit}>\n        <input name=\"title\" placeholder=\"Title\" value={form.title} onChange={handleChange} required />\n        <textarea name=\"description\" placeholder=\"Description\" value={form.description} onChange={handleChange} required />\n        <input name=\"price\" type=\"number\" placeholder=\"Price\" value={form.price} onChange={handleChange} required />\n        <input type=\"file\" onChange={handleFileChange} />\n        <button type=\"submit\" disabled={loading}>{loading ? 'Creating...' : 'Create Course'}</button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateCourse; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}