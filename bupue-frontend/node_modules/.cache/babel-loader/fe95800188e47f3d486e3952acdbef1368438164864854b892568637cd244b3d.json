{"ast":null,"code":"import _objectSpread from\"C:/Users/chapl/bupue/bupue-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./Courses.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCourse=()=>{const[formData,setFormData]=useState({title:'',description:'',price:'',thumbnail:null,content:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{const{name,value,files}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:files?files[0]:value}));};const handleSubmit=async e=>{e.preventDefault();const formDataToSend=new FormData();Object.keys(formData).forEach(key=>{formDataToSend.append(key,formData[key]);});try{const token=localStorage.getItem('token');await axios.post('http://localhost:4000/api/courses',formDataToSend,{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}});navigate('/courses');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to create course');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-course-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Course\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Course Title\",value:formData.title,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Course Description\",value:formData.description,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",placeholder:\"Course Price\",value:formData.price,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"thumbnail\",accept:\"image/*\",onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",placeholder:\"Course Content\",value:formData.content,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Course\"})]})]});};export default CreateCourse;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","CreateCourse","formData","setFormData","title","description","price","thumbnail","content","error","setError","navigate","handleChange","e","name","value","files","target","_objectSpread","handleSubmit","preventDefault","formDataToSend","FormData","Object","keys","forEach","key","append","token","localStorage","getItem","post","headers","concat","err","_err$response","_err$response$data","response","data","message","className","children","onSubmit","type","placeholder","onChange","required","accept"],"sources":["C:/Users/chapl/bupue/bupue-frontend/src/components/courses/CreateCourse.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Courses.css';\r\n\r\nconst CreateCourse = () => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    price: '',\r\n    thumbnail: null,\r\n    content: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: files ? files[0] : value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formDataToSend = new FormData();\r\n    Object.keys(formData).forEach(key => {\r\n      formDataToSend.append(key, formData[key]);\r\n    });\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.post('http://localhost:4000/api/courses', formDataToSend, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      navigate('/courses');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to create course');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-course-container\">\r\n      <h2>Create New Course</h2>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"Course Title\"\r\n            value={formData.title}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            name=\"description\"\r\n            placeholder=\"Course Description\"\r\n            value={formData.description}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            placeholder=\"Course Price\"\r\n            value={formData.price}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"file\"\r\n            name=\"thumbnail\"\r\n            accept=\"image/*\"\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            name=\"content\"\r\n            placeholder=\"Course Content\"\r\n            value={formData.content}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Create Course</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateCourse; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}